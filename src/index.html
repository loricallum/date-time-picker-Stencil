<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
  <meta charset="utf-8">
  <title>Stencil Date and Time Picker App</title>
  <meta name="Description" content="View the Date/Time picker below.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
  <meta name="theme-color" content="#16161d">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="x-ua-compatible" content="IE=Edge"/>

  <link href="/build/app.css" rel="stylesheet">
  <script src="/build/app.js"></script>
  <script src= "node_modules/stencil-timepicker/dist/timepicker.js"></script>
<script src='https://unpkg.com/stencil-timepicker@latest/dist/timepicker.js'></script>
  <script  src='assets/st-datepicker/st-datepicker.js'></script>
  
  <link rel="apple-touch-icon" href="/assets/icon/icon.png">
  <link rel="icon" type="image/x-icon" href="/assets/icon/favicon.ico">
  <link rel="manifest" href="/manifest.json">
</head>
<body>

  <h2>Datepicker</h2>
  <div class="input-group">
    <input type="text" name="date" placeholder="choisir une date"/>
    <hado-datepicker id="datepicker"></hado-datepicker>
  </div>
  <h2>Rangepicker</h2>
  <div class="input-group">
    <input type="text" name="range_first" placeholder="choisir une date"/>
    <input type="text" name="range_last" placeholder="choisir une date"/>
    <hado-datepicker id="rangepicker"></hado-datepicker>
  </div>
  <h2>Timepicker</h2>
  <div class="input-group">
    <input type="text" name="time" placeholder="choisir une heure"/>
    <hado-timepicker></hado-timepicker>
  </div>
  <h2>Autocomplete</h2>
  <hado-autocomplete id="auto-complete"></hado-autocomplete>
</body>
<script>
  const timepicker = document.querySelector('hado-timepicker');
  const datepicker = document.querySelector('#datepicker');
  const rangepicker = document.querySelector('#rangepicker');
  const withLogo = document.querySelector('#withLogo')
  const date = moment("2019-01-15 14:30");
  const autoComplete = document.getElementById('auto-complete');
  console.log(autoComplete)
  autoComplete.addEventListener('isLoaded$',function() {
    console.log('FROM INDEX AUTO')
    autoComplete.initialize({
      values: [
        { value: '' },
        { value: '' },
        { value: '' },
        { value: '' },
        { value: '' },
        { value: '' },
        { value: '' },
        { value: '' },
        { value: '' },
        { value: '' },
        { value: '' },
        { value: '' },
        { value: '' },
        { value: '' },
        { value: '' }
      ],
      property: 'value',
      placeholder: '...'
    })
  })
  rangepicker.addEventListener('IsLoaded$', function() {
    console.log('IsLoaded timepicker')
    rangepicker.initAppState({
        mode: 'range',
        calendarIcon: 'fas fa-calendar-alt',
        angleRightIcon: 'fas fa-angle-right',
        angleLeftIcon: 'fas fa-angle-left',
        closeIcon: 'fas fa-times',
        activePreviousDate: true,
        rangeStartValue: '',
        rangeEndValue: '',
        startWeek: 1,
        labels: {
          title: 'Date of start',
          title_2: 'Date of end',
          placeholder: '',
          placeholder_2: '',
          datepickerBtnValue: '',
          rangeNextBtnValue: '',
          months: [
            'Jan',
            'Feb',
            'Mar',
            'Apr',
            'May',
            'Jun',
            'Jul',
            'Aug',
            'Sep',
            'Oct',
            'Nov',
            'Dec'
          ],
          day: [
          'monday',
            'tuesday',
            'wednesday',
            'thursday',
            'friday',
            'saturday',
            'sunday'
          ]
        }
      })
  });
  rangepicker.addEventListener('endDateSelectedEvent', function(event) {
    var inputDateLast = document.querySelector('input[name=range_last]');
    inputDateLast.value = moment(event.detail).format('DD-MM-YYYY');
  });
  rangepicker.addEventListener('DateItemListEvent', function(event) {
    var inputDateFirst = document.querySelector('input[name=range_first]');
    inputDateFirst.value = moment(event.detail).format('DD-MM-YYYY');
  });
  
  datepicker.addEventListener('DateItemListEvent', function(event) {
    var inputDate = document.querySelector('input[name=date]');
    inputDate.value = moment(event.detail).format('DD-MM-YYYY');
  });
  timepicker.addEventListener('dateSelected$', function(event) {
    var inputTime = document.querySelector('input[name=time]');
    inputTime.value = moment(event.detail).format('HH:mm');
  });
  timepicker.addEventListener('isLoaded$', function() {
    timepicker.initialize()
  });
</script>



  <app-root></app-root>
<st-timepicker>
<script>
  var element = document.querySelector('st-datepicker');
  var config = {...};
  element.addEventListener('datepickerIsLoaded', function() {
  	element.initAppState(config)
  });
</script> 
</body>
</html>
